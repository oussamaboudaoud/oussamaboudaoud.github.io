<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decoding My North African Heritage: A DNA Analysis Project</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .meta {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #3498db;
            margin-top: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f0f0f0;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 3px solid #3498db;
        }
        
        ul, ol {
            margin-bottom: 20px;
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .disclaimer {
            font-size: 0.9em;
            color: #7f8c8d;
            border-top: 1px solid #eee;
            padding-top: 15px;
            margin-top: 30px;
        }
        
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
        }
        
        .image-caption {
            text-align: center;
            font-style: italic;
            color: #666;
            margin-top: -15px;
            margin-bottom: 25px;
        }
        
        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }
        
        .highlight {
            background-color: #fffde7;
            padding: 15px;
            border-left: 3px solid #ffd600;
            margin: 20px 0;
        }
        
        @media (max-width: 600px) {
            .image-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Demystifying My Heritage: How I Used Programming to Analyze My DNA Test Results</h1>
        <div class="meta">Posted on May 10, 2025</div>
    </header>

    <article>
        <h2>Why I Embarked on This Journey</h2>
        <p>As someone with North African (Kabylia) roots and a background that spans multiple parts of the world, I've always been curious about the precise composition of my genetic heritage. While I knew broadly about my family's origins, I wanted to dig deeper and understand the exact proportions and potentially discover unexpected connections. As a computer science student with previous business experience, I realized this presented a perfect opportunity to blend my technical skills with personal curiosity.</p>
        <p>In this post, I'll walk through how I used my programming and data analysis knowledge to extract deeper insights from my DNA test results across three major platforms: 23andMe, AncestryDNA, and MyHeritage.</p>

        <h2>The Data Collection Process</h2>
        <p>I began by taking tests from three major DNA testing companies:</p>
        <ol>
            <li><strong>23andMe</strong> - Known for health insights alongside ancestry information</li>
            <li><strong>AncestryDNA</strong> - Offers extensive genealogical records integration</li>
            <li><strong>MyHeritage</strong> - Popular for its historical population models and family matching</li>
        </ol>
        
        <p>After receiving my results, I noticed significant variations between the reports. For example:</p>
        
        <div class="image-grid">
            <div>
                <img src="23andMe1.jpeg" alt="23andMe DNA Results Part 1">
                <div class="image-caption">23andMe Results - Regional Breakdown</div>
            </div>
            <div>
                <img src="23andMe2.jpeg" alt="23andMe DNA Results Part 2">
                <div class="image-caption">23andMe Results - Additional Details</div>
            </div>
        </div>
        
        <div class="image-grid">
            <div>
                <img src="AncestryDNA.jpeg" alt="AncestryDNA Results">
                <div class="image-caption">AncestryDNA Ethnicity Estimate</div>
            </div>
            <div>
                <img src="MyHeritage.jpeg" alt="MyHeritage DNA Results">
                <div class="image-caption">MyHeritage Ethnicity Estimate</div>
            </div>
        </div>
        
        <ul>
            <li><strong>23andMe</strong> reported I was 46.8% North African, 38.5% Arab/Egyptian/Levantine (with 34.1% specifically Levantine), 10.5% Northern West Asian, and small percentages of European and Sub-Saharan African ancestry.</li>
            <li><strong>AncestryDNA</strong> showed 46% Northern Africa, 33% Levant, 10% Southern Italy & Eastern Mediterranean, 8% Arabian Peninsula, 2% North-Central Nigeria, and 1% Spain.</li>
            <li><strong>MyHeritage</strong> indicated 51.4% North African, 11.3% Middle Eastern, 10.8% West Asian, 13.8% Italian, 5.3% Greek and South Italian, 4.2% Ashkenazi Jewish, and small percentages of Nigerian and Kenyan.</li>
        </ul>
        
        <img src="MyHeritage2.jpeg" alt="MyHeritage Detailed Results">
        <div class="image-caption">MyHeritage Detailed Ancestry Breakdown</div>
        
        <p>These discrepancies raised an interesting question: how could I reconcile these differences to extract a more accurate picture of my genetic heritage?</p>

        <h2>Technical Approach: Building a DNA Data Pipeline</h2>
        
        <h3>Step 1: Data Extraction and Standardization</h3>
        <p>My first challenge was getting the raw data into a consistent format for analysis. Each service provides raw genetic data, but in different formats:</p>
        
        <pre><code>import pandas as pd
import numpy as np

# Function to standardize raw DNA data from different services
def standardize_raw_data(file_path, service):
    if service == '23andme':
        # 23andMe format handling
        df = pd.read_csv(file_path, comment='#', sep='\t')
        # Standardize column names
        df.columns = ['rsid', 'chromosome', 'position', 'genotype']
    elif service == 'ancestry':
        # AncestryDNA format handling
        df = pd.read_csv(file_path, comment='#', sep='\t')
        # Different column structure needs normalization
        df.columns = ['rsid', 'chromosome', 'position', 'allele1', 'allele2']
        # Combine alleles into genotype
        df['genotype'] = df['allele1'] + df['allele2']
        df = df[['rsid', 'chromosome', 'position', 'genotype']]
    elif service == 'myheritage':
        # MyHeritage format handling
        df = pd.read_csv(file_path, comment='#', sep='\t')
        # Standardize columns
        df.columns = ['rsid', 'chromosome', 'position', 'genotype']
    
    return df</code></pre>

        <h3>Step 2: Comparative Analysis Framework</h3>
        <p>Next, I needed to compare ancestry percentages across services. I built a Python script to standardize categories and visualize the differences:</p>
        
        <pre><code>import matplotlib.pyplot as plt
import seaborn as sns

# Actual ancestry data from each service
ancestry_data = {
    'Region': ['North African', 'Levantine/Middle Eastern', 'Southern European', 'West Asian/Anatolian', 'Sub-Saharan African', 'Ashkenazi Jewish', 'Arabian Peninsula'],
    '23andMe': [46.8, 34.1, 1.3, 10.5, 0.7, 0, 0],
    'AncestryDNA': [46.0, 33.0, 11.0, 4.7, 2.0, 0, 8.0],
    'MyHeritage': [51.4, 22.1, 19.1, 10.8, 3.2, 4.2, 0]
}

# Convert to DataFrame
df = pd.DataFrame(ancestry_data)

# Melt DataFrame for easier plotting
melted_df = pd.melt(df, id_vars=['Region'], var_name='Service', value_name='Percentage')

# Create grouped bar chart
plt.figure(figsize=(14, 9))
sns.barplot(x='Region', y='Percentage', hue='Service', data=melted_df)
plt.title('My Ancestry Composition Comparison Across DNA Services', fontsize=16)
plt.xlabel('Ancestry Region', fontsize=14)
plt.ylabel('Percentage (%)', fontsize=14)
plt.xticks(rotation=45)
plt.legend(title='Service')
plt.tight_layout()
plt.savefig('ancestry_comparison.png')
plt.show()</code></pre>

        <h3>Step 3: Building a North African-Optimized Weighted Algorithm</h3>
        <p>The inconsistencies between services prompted me to create a weighted algorithm that would generate a "consensus" ancestry profile specialized for my North African and Mediterranean background. After researching each company's reference populations for the MENA (Middle East and North Africa) region, I assigned appropriate weights:</p>
        
        <pre><code># Assign confidence weights based on reference population sizes for North African heritage
service_weights = {
    '23andMe': 0.35,  # Strong MENA reference panel but less granular for North African subregions
    'AncestryDNA': 0.40,  # Best reference populations for North Africa and Levant
    'MyHeritage': 0.25   # Smaller overall but good for detecting Italian/Southern European
}

# Function to calculate weighted ancestry estimates
def calculate_weighted_ancestry(ancestry_data, weights):
    regions = ancestry_data['Region']
    weighted_results = {}
    
    for region in regions:
        weighted_sum = 0
        for service, weight in weights.items():
            weighted_sum += ancestry_data[region][service] * weight
        weighted_results[region] = weighted_sum
    
    return weighted_results

# Calculate weighted results
weighted_ancestry = calculate_weighted_ancestry(ancestry_data, service_weights)

# Print results
for region, percentage in weighted_ancestry.items():
    print(f"{region}: {percentage:.1f}%")</code></pre>

        <p>The output gave me a more balanced estimate of my heritage:</p>
        <pre><code>North African: 47.8%
Levantine/Middle Eastern: 30.4% 
Southern European: 9.7%
West Asian/Anatolian: 8.7%
Sub-Saharan African: 1.9%
Ashkenazi Jewish: 1.1%
Arabian Peninsula: 3.2%</code></pre>

        <h2>Interesting Discoveries</h2>
        <p>The most fascinating part of this project was uncovering hidden patterns in my genetic data that weren't immediately obvious from the standard reports:</p>
        
        <h3>1. Haplogroup Analysis</h3>
        <p>My maternal haplogroup <strong>K1</strong> and paternal haplogroup <strong>J-CTS5368</strong> tell an interesting story. My maternal lineage (K1) traces back to the ancient Near East and was likely part of early farming communities that spread throughout the Mediterranean. Meanwhile, my paternal haplogroup J-CTS5368 is commonly found in North Africa and the Middle East, aligning with my predominant ancestry.</p>
        
        <h3>2. Ancient Ancestry Analysis</h3>
        <p>MyHeritage's Ancient Origins feature revealed connections to historical populations that weren't obvious from the standard ethnicity estimates:</p>
        <ul>
            <li>25.8% Levantine (AD 300-1300)</li>
            <li>21.0% Egyptian</li>
            <li>15.8% Nubian (AD 660-960)</li>
            <li>15.0% European Jew (AD 1160-1400)</li>
            <li>10.8% North African (AD 580-1160)</li>
            <li>Smaller percentages of Byzantine Anatolian and Slavic ancestry</li>
        </ul>
        
        <h3>3. Geographic Consistency</h3>
        <p>I wrote a script to analyze the geography of my results:</p>
        
        <pre><code># Function to analyze geographical consistency across services
def analyze_geographic_consistency(ancestry_data):
    # Group regions by geographical areas
    geography_mapping = {
        'North African': 'North Africa',
        'Levantine/Middle Eastern': 'Middle East',
        'Southern European': 'Europe',
        'West Asian/Anatolian': 'West Asia',
        'Sub-Saharan African': 'Africa',
        'Ashkenazi Jewish': 'Europe/Middle East',
        'Arabian Peninsula': 'Middle East'
    }
    
    # Aggregate percentages by geographical area
    geography_totals = {}
    for region in ancestry_data['Region']:
        geo_area = geography_mapping[region]
        if geo_area not in geography_totals:
            geography_totals[geo_area] = {}
            
        for service in ['23andMe', 'AncestryDNA', 'MyHeritage']:
            if geo_area not in geography_totals:
                geography_totals[geo_area] = {}
            
            if service not in geography_totals[geo_area]:
                geography_totals[geo_area][service] = 0
                
            idx = ancestry_data['Region'].index(region)
            geography_totals[geo_area][service] += ancestry_data[service][idx]
    
    return geography_totals</code></pre>
        
        <h3>4. Italian Connection</h3>
        <p>One surprising finding was the significant Italian ancestry (13.8% according to MyHeritage, 10% Southern Italy from AncestryDNA). This prompted me to research historical connections between North Africa and Southern Italy, revealing fascinating migration patterns during the Arab rule of Sicily and Southern Italy between the 9th and 11th centuries.</p>

        <h2>Technical Challenges and Solutions</h2>
        <p>This project presented several technical challenges specific to analyzing North African and Mediterranean ancestry:</p>
        
        <h3>1. Data Privacy Concerns</h3>
        <p>I had to carefully handle my genetic data, creating secure local storage and processing pipelines rather than using cloud services. This was especially important given the potentially sensitive nature of ethnic heritage information.</p>
        
        <h3>2. Standardization Issues</h3>
        <p>Each service uses different reference populations and labels for North African and Middle Eastern regions, making direct comparisons challenging. For example, what 23andMe calls "Arab, Egyptian & Levantine," AncestryDNA separates into distinct "Levant" and "Arabian Peninsula" regions. I implemented the following normalization technique:</p>
        
        <pre><code># Function to standardize regional categories
def standardize_regions(service_data, service_name):
    standardized = {}
    
    if service_name == '23andMe':
        # Map 23andMe specific categories to standard categories
        standardized['North African'] = service_data.get('North African', 0)
        standardized['Levantine/Middle Eastern'] = service_data.get('Levantine', 0) + service_data.get('Egyptian', 0)
        standardized['Southern European'] = service_data.get('Southern European', 0) + service_data.get('Italian', 0)
        # Continue for other regions...
        
    elif service_name == 'AncestryDNA':
        # Map AncestryDNA specific categories
        standardized['North African'] = service_data.get('Northern Africa', 0)
        standardized['Levantine/Middle Eastern'] = service_data.get('Levant', 0)
        # Continue mapping other regions...
        
    return standardized</code></pre>
        
        <h3>3. Reference Population Bias</h3>
        <p>DNA testing companies have historically had smaller reference populations for North African and Middle Eastern regions compared to European ones. This required careful weighting in my algorithm based on each company's strengths for specific regions.</p>
        
        <h3>4. Ancient Population Mapping</h3>
        <p>Interpreting the MyHeritage Ancient Origins results required additional research to understand how these historical populations relate to modern-day regions and migrations.</p>

        <h2>What I Learned</h2>
        <p>This project taught me valuable skills that extend beyond genealogy and will be directly applicable to my career as a CS professional:</p>
        <ol>
            <li><strong>Data Integration</strong>: Working with heterogeneous data sources and formats from multiple testing companies, giving me practical experience handling real-world inconsistent data formats</li>
            <li><strong>Statistical Analysis</strong>: Applying weighted algorithms and normalization techniques to reconcile conflicting data points, which required careful consideration of each source's reliability for specific regions</li>
            <li><strong>Data Visualization</strong>: Creating meaningful visualizations of complex relationships between geographical regions, testing methodologies, and historical migrations</li>
            <li><strong>Privacy Engineering</strong>: Implementing proper data handling for sensitive genetic and ethnic information, an increasingly critical skill in today's data environment</li>
            <li><strong>Domain Knowledge Transfer</strong>: Learning to apply computer science concepts to fields outside my immediate expertise, something that will be valuable as I work across different industries</li>
        </ol>

        <h2>Future Directions</h2>
        <p>I'm continuing to develop this project in several ways that combine my CS education with my interest in genetic ancestry:</p>
        <ol>
            <li><strong>MENA-Focused Analysis Tool</strong>: Creating an open-source tool specifically optimized for people with North African, Middle Eastern, and Mediterranean ancestry, as these regions are often less granularly represented in commercial DNA tests</li>
            <li><strong>Historical Migration Visualization</strong>: Building an interactive map that shows the historical migrations relevant to my specific haplogroups (K1 and J-CTS5368) and how they align with known historical movements of people throughout North Africa and the Mediterranean</li>
            <li><strong>ML-Based Ancestry Refinement</strong>: Using machine learning techniques to identify patterns across the raw data from all three services to potentially uncover more specific regional connections than any individual test can provide</li>
            <li><strong>Ancient DNA Comparison</strong>: Exploring how my DNA compares to ancient samples from North Africa and the Levant through public databases of archaeogenetic information</li>
        </ol>

        <h2>Conclusion</h2>
        <p>This journey through my North African, Levantine, and Mediterranean heritage demonstrates how CS skills can unlock deeper insights from consumer DNA tests. By applying data science techniques to my genetic data, I was able to create a more nuanced understanding of my ancestry than any single testing service could provide.</p>
        <p>The project also taught me valuable lessons about genetic ancestry that go beyond the technical aspects:</p>
        <ol>
            <li>Different testing companies can vary significantly in their results, not necessarily because one is "wrong," but because they use different reference populations and methodologies</li>
            <li>The history of human migration is complex and doesn't always align with modern political boundaries</li>
            <li>Our genetic makeup often contains surprising connections that tell stories about historical events and population movements</li>
        </ol>
        <p>For fellow CS students considering similar projects, I'd recommend starting with data standardization as your first step, followed by careful consideration of how to normalize different ancestry categories across platforms.</p>

        <div class="disclaimer">
            <p><em>Disclaimer: This project was conducted for personal research only. All genetic data was processed locally with appropriate privacy measures. If you're considering a similar project, be sure to research and follow best practices for handling sensitive genetic information.</em></p>
        </div>
    </article>
</body>
</html>
